<html><head>
        <title>Snake_Game</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div></div>

        <canvas id="canvas" width="800" height="600" style="border:1px white" tabindex="1"></canvas>
        <script>

            // Colors 
            var green = "#39ff14";
            var black = "#000000";
            var white = "#FFFFFF";

            // Screen
            var ctx;
            var WIDTH;
            var HEIGHT;

            // Snake details
            var snakeX;
            var snakeY;
            var snakeSize;
            
            //Key Presses
            var wPressed;
            var aPressed;
            var sPressed;
            var dPressed;

            // Sets up page
            function init() {
                ctx = document.getElementById('canvas').getContext('2d');

                WIDTH = ctx.canvas.width;
                HEIGHT = ctx.canvas.height;

                // Now that WIDTH and HEIGHT are defined, initialize the snake
                snakeX = WIDTH / 2;
                snakeY = HEIGHT / 2;
                snakeSize = 15;
                
                wPressed = true;
                aPressed = false;
                sPressed = false;
                dPressed = false;

                requestAnimationFrame(draw);
            }

            function rect(x, y, w, h) {
                ctx.beginPath();
                ctx.rect(x, y, w, h);
                ctx.closePath();
                ctx.fill();
            }
            
            
            function clear() {
                ctx.fillStyle = black;
                rect(0, 0, WIDTH, HEIGHT);
            }

            function drawSnake() {
                ctx.fillStyle = green;
                rect(snakeX, snakeY, snakeSize, snakeSize);
            }
            
            function onKeyDown(evt) {
                if (evt.keyCode === 87) { //W key
                    wPressed = true;
                    aPressed = false;
                    sPressed = false;
                    dPressed = false;
                } else if (evt.keyCode === 65){ //A key
                    aPressed = true;
                    wPressed = false;
                    sPressed = false;
                    dPressed = false;
                } else if (evt.keyCode === 83) { //S key
                    sPressed = true;
                    wPressed = false;
                    dPressed = false;
                    aPressed = false;
                } else if (evt.keyCode === 68) { //D key
                    dPressed = true;
                    wPressed = false;
                    sPressed = false;
                    aPressed = false;
                }
            }
            
            function moveSnake() {
                if (wPressed === true && snakeY > 3) {
                    snakeY -= 3;
                } else if (aPressed === true && snakeX > 3) {
                    snakeX -= 3;
                } else if (sPressed === true && snakeY < (HEIGHT - snakeSize)) {
                    snakeY += 3;
                } else if (dPressed === true && snakeX < (WIDTH - snakeSize)) {
                    snakeX += 3;
                }
            }

            function draw() {
                clear();
                
                moveSnake();
                drawSnake();

                requestAnimationFrame(draw);
            }

            document.title = "Snake-Game";
            document.getElementById('canvas').focus();
            window.addEventListener("load", init, false);
            window.addEventListener("keydown", onKeyDown, false);


        </script>
    </body>
</html>
